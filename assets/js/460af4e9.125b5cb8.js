"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[576],{9214:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var n=a(6070),s=a(385);const i={sidebar_position:3},o="Dump database",d={id:"production/dump-database",title:"Dump database",description:"It is a good practice to dump the database after competition so it can be used for future analysis or to restore the database if any data is needed after turning of the server.",source:"@site/docs/production/dump-database.md",sourceDirName:"production",slug:"/production/dump-database",permalink:"/production/dump-database",draft:!1,unlisted:!1,editUrl:"https://github.com/FKMTime/docs/tree/main/docs/docs/production/dump-database.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Accessing logs",permalink:"/production/accessing-logs"},next:{title:"Assembly Guide",permalink:"/category/assembly-guide"}},r={},c=[{value:"Dumping the database",id:"dumping-the-database",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"dump-database",children:"Dump database"}),"\n",(0,n.jsx)(t.p,{children:"It is a good practice to dump the database after competition so it can be used for future analysis or to restore the database if any data is needed after turning of the server."}),"\n",(0,n.jsx)(t.h2,{id:"dumping-the-database",children:"Dumping the database"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Enter the database container:"}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"docker exec -it fkmtime-database bash;\n"})}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsx)(t.li,{children:"Run the following command in the container:"}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"pg_dump -d fkm_time > dump.sql;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This command will dump the database to ",(0,n.jsx)(t.code,{children:"dump.sql"})," file in the Docker container."]}),"\n",(0,n.jsxs)(t.ol,{start:"3",children:["\n",(0,n.jsx)(t.li,{children:"Copy the dump file to the host machine:"}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"docker cp fkmtime-database:/dump.sql dump.sql;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["You can read about importing the database into development environment in the ",(0,n.jsx)(t.a,{href:"/development/importing-database-dump",children:"Importing database dump"})," section."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},385:(e,t,a)=>{a.d(t,{R:()=>o,x:()=>d});var n=a(758);const s={},i=n.createContext(s);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);